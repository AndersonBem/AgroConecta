{% extends "Siderbar/base_sidebar.html" %}
{% load static %} 

{% block title %}Gest√£o de Armaz√©ns - AgroConecta{% endblock %}

{% block content %}

{% if messages %}
  <script>
      {% for message in messages %}
          alert("{{ message|escapejs }}");
      {% endfor %}
  </script>
{% endif %}

<div class="gestao-armazens-container">
    <header class="cooperativas-header">
        <h1>Gest√£o de Armaz√©ns üì¶</h1>

        <a href="{% url 'cadastrar_armazens' %}" class="add-cooperativa-btn">
            <i class="bi bi-plus-circle"></i> Adicionar Novo Armaz√©m
        </a>
    </header>

    <div class="armazens-list-grid">
        
        {# Loop para exibir os armaz√©ns #}
        {% for armazem in armazens %}
            <div class="armazem-card cooperativa-card">
                <h3>{{ armazem.nome }}</h3>

                <p><strong>Gestor Respons√°vel:</strong> {{ armazem.gestor.nome }}</p>
                <p><strong>Capacidade Atual (kg):</strong> {{ armazem.capacidade_atual }}</p>
                <p><strong>Status:</strong> {{ armazem.status }}</p>

                <div class="card-actions">
                    <a href="{% url 'ver_armazens' armazem.id %}" class="action-btn view-btn">
                        <i class="bi bi-eye"></i> Ver Detalhes
                    </a>
                    <a href="{% url 'editar_armazem' armazem.id %}" class="action-btn edit-btn">
                        <i class="bi bi-pencil-square"></i> Editar
                    </a>
                </div>
            </div>
        {% empty %}
            <p>N√£o h√° armaz√©ns cadastrados ou sob sua gest√£o ainda.</p>
        {% endfor %}
        
    </div>
</div>

{% endblock content %}
{% extends "Siderbar/base_sidebar.html" %}
{% load static %}

{% block title %}Gest√£o de Solicita√ß√µes - AgroConecta{% endblock %}

{% block content %}

<div class="gestao-container">
    <div class="gestao-header">
        <h1 class="gestao-titulo">Gest√£o de Solicita√ß√µes üìã</h1>
        
        <a href="{% url 'cadastro_solicitacoes' %}" class="btn-adicionar">
            <i class="bi bi-plus-lg"></i> Nova Solicita√ß√£o
        </a>
    </div>

    {% for solicitacao in solicitacoes %}
    <div class="gestao-item">
        <div class="item-header-info">
            <h2 class="item-titulo">
                Solicita√ß√£o #{{ solicitacao.id }} 
                <span class="item-safra">({{ solicitacao.safra_idSafra.nome }})</span>
            </h2>
        </div>
        
        <div class="item-details">
            <p><strong>Cooperativa:</strong> {{ solicitacao.Cooperativa_CNPJ.nome }}</p>
            <p><strong>Quantidade (kg):</strong> {{ solicitacao.quantidade }} kg</p>
            <p><strong>Produtores Beneficiados:</strong> {{ solicitacao.numeroProdutoresBeneficiados }}</p>
            <p><strong>Status:</strong> <span class="status-{{ solicitacao.Status_idStatus.id }}">{{ solicitacao.Status_idStatus.nome }}</span></p>
        </div>

        <div class="item-acoes">
            <a href="{% url 'detalhes_solicitacao' solicitacao.id %}" class="btn-detalhes">
                <i class="bi bi-eye"></i> Ver Detalhes
            </a>
            
            <a href="{% url 'editar_solicitacao' solicitacao.id %}" class="btn-editar-item">
                <i class="bi bi-pencil"></i> Editar
            </a>
        </div>
    </div>
    {% empty %}
    <p class="aviso-vazio">Nenhuma solicita√ß√£o encontrada.</p>
    {% endfor %}
</div>

{% endblock content %}